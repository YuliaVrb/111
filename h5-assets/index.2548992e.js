var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

import{r as L,i as g,bM as me,a9 as ne,an as he,bN as _e,bO as ge,bv as ye,b3 as we,bP as be,c as P,n as G,w as X,d as Se,u as J,S as xe,b as Ce,o as B,e as V,h as Te,j as W,k as K,l as Le,z as Y,m as ke,f as T,t as M,bQ as Q,R as Z,a0 as Ee,F as De,L as Ie,aw as Oe,_ as Ae,H as je,by as Be,I as We,bR as Me,J as Pe}from"./entry.d4f814ae.js";import{u as Re}from"./useControlableValue.3d5ed3e5.js";/* empty css              */import{u as Ve,I as Fe}from"./use-form-item.e1946523.js";function He(e=!1){const o=L(e);return{loading:o,setLoading:l=>{o.value=l},toggle:()=>{o.value=!o.value}}}function se(e){return _e()?(ge(e),!0):!1}function b(e){return typeof e=="function"?e():g(e)}const le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $e=Object.prototype.toString,Ne=e=>$e.call(e)==="[object Object]",O=()=>{},ee=ze();function ze(){var e;return le&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function ae(e,o){function t(...s){return new Promise((l,r)=>{Promise.resolve(e(()=>o.apply(this,s),{fn:o,thisArg:this,args:s})).then(l).catch(r)})}return t}function Xe(e,o={}){let t,s,l=O;const r=a=>{clearTimeout(a),l(),l=O};return a=>{const p=b(e),f=b(o.maxWait);return t&&r(t),p<=0||f!==void 0&&f<=0?(s&&(r(s),s=null),Promise.resolve(a())):new Promise((d,v)=>{l=o.rejectOnCancel?v:d,f&&!s&&(s=setTimeout(()=>{t&&r(t),s=null,d(a())},f)),t=setTimeout(()=>{s&&r(s),s=null,d(a())},p)})}}function Ye(e,o=!0,t=!0,s=!1){let l=0,r,i=!0,a=O,p;const f=()=>{r&&(clearTimeout(r),r=void 0,a(),a=O)};return v=>{const _=b(e),h=Date.now()-l,y=()=>p=v();return f(),_<=0?(l=Date.now(),y()):(h>_&&(t||!i)?(l=Date.now(),y()):o&&(p=new Promise((x,m)=>{a=s?m:x,r=setTimeout(()=>{l=Date.now(),i=!0,x(y()),f()},Math.max(0,_-h))})),!t&&!r&&(r=setTimeout(()=>i=!0,_)),i=!1,p)}}const qe={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Ge(...e){if(e.length!==1)return ye(...e);const o=e[0];return typeof o=="function"?we(be(()=>({get:o,set:O}))):L(o)}function Ue(e,o=200,t={}){return ae(Xe(o,t),e)}function Je(e,o=200,t=!1,s=!0,l=!1){return ae(Ye(o,t,s,l),e)}function Ke(e,o=!0){me()?ne(e):o?e():he(e)}function Qe(e){var o;const t=b(e);return(o=t==null?void 0:t.$el)!=null?o:t}const re=le?window:void 0;function U(...e){let o,t,s,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,s,l]=e,o=re):[o,t,s,l]=e,!o)return O;Array.isArray(t)||(t=[t]),Array.isArray(s)||(s=[s]);const r=[],i=()=>{r.forEach(d=>d()),r.length=0},a=(d,v,_,h)=>(d.addEventListener(v,_,h),()=>d.removeEventListener(v,_,h)),p=X(()=>[Qe(o),b(l)],([d,v])=>{if(i(),!d)return;const _=Ne(v)?{...v}:v;r.push(...t.flatMap(h=>s.map(y=>a(d,h,y,_))))},{immediate:!0,flush:"post"}),f=()=>{p(),i()};return se(f),f}const te=1;function oe(e,o={}){const{throttle:t=0,idle:s=200,onStop:l=O,onScroll:r=O,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:p="auto",window:f=re}=o,d=L(0),v=L(0),_=P({get(){return d.value},set(u){y(u,void 0)}}),h=P({get(){return v.value},set(u){y(void 0,u)}});function y(u,D){var w,A,j;if(!f)return;const C=b(e);C&&((j=C instanceof Document?f.document.body:C)==null||j.scrollTo({top:(w=b(D))!=null?w:h.value,left:(A=b(u))!=null?A:_.value,behavior:b(p)}))}const x=L(!1),m=G({left:!0,right:!1,top:!0,bottom:!1}),k=G({left:!1,right:!1,top:!1,bottom:!1}),F=u=>{x.value&&(x.value=!1,k.left=!1,k.right=!1,k.top=!1,k.bottom=!1,l(u))},R=Ue(F,t+s),I=u=>{var D;if(!f)return;const w=u.document?u.document.documentElement:(D=u.documentElement)!=null?D:u,{display:A,flexDirection:j}=getComputedStyle(w),C=w.scrollLeft;k.left=C<d.value,k.right=C>d.value;const $=Math.abs(C)<=0+(i.left||0),N=Math.abs(C)+w.clientWidth>=w.scrollWidth-(i.right||0)-te;A==="flex"&&j==="row-reverse"?(m.left=N,m.right=$):(m.left=$,m.right=N),d.value=C;let n=w.scrollTop;u===f.document&&!n&&(n=f.document.body.scrollTop),k.top=n<v.value,k.bottom=n>v.value;const c=Math.abs(n)<=0+(i.top||0),S=Math.abs(n)+w.clientHeight>=w.scrollHeight-(i.bottom||0)-te;A==="flex"&&j==="column-reverse"?(m.top=S,m.bottom=c):(m.top=c,m.bottom=S),v.value=n},H=u=>{var D;if(!f)return;const w=(D=u.target.documentElement)!=null?D:u.target;I(w),x.value=!0,R(u),r(u)};return U(e,"scroll",t?Je(H,t,!0,!1):H,a),Ke(()=>{const u=b(e);u&&I(u)}),U(e,"scrollend",F,a),{x:_,y:h,isScrolling:x,arrivedState:m,directions:k,measure(){const u=b(e);f&&u&&I(u)}}}function q(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const Ze={[qe.mounted](e,o){if(typeof o.value=="function"){const t=o.value,s=oe(e,{onScroll(){t(s)},onStop(){t(s)}})}else{const[t,s]=o.value,l=oe(e,{...s,onScroll(r){var i;(i=s.onScroll)==null||i.call(s,r),t(l)},onStop(r){var i;(i=s.onStop)==null||i.call(s,r),t(l)}})}}};function ce(e){const o=window.getComputedStyle(e);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&e.clientWidth<e.scrollWidth||o.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!t||t.tagName==="BODY"?!1:ce(t)}}function et(e){const o=e||window.event,t=o.target;return ce(t)?!1:o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)}const z=new WeakMap;function tt(e,o=!1){const t=L(o);let s=null,l;X(Ge(e),a=>{const p=q(b(a));if(p){const f=p;z.get(f)||z.set(f,l),t.value&&(f.style.overflow="hidden")}},{immediate:!0});const r=()=>{const a=q(b(e));!a||t.value||(ee&&(s=U(a,"touchmove",p=>{et(p)},{passive:!1})),a.style.overflow="hidden",t.value=!0)},i=()=>{var a;const p=q(b(e));!p||!t.value||(ee&&(s==null||s()),p.style.overflow=(a=z.get(p))!=null?a:"",z.delete(p),t.value=!1)};return se(i),P({get(){return t.value},set(a){a?r():i()}})}function ot(){let e=!1;const o=L(!1);return(t,s)=>{if(o.value=s.value,e)return;e=!0;const l=tt(t,s.value);X(o,r=>l.value=r)}}ot();const nt={class:"fs-28 color-text-1"},st={class:"wrap"},lt={class:"head"},at={class:"p30 flex justify-between items-center p-b-24 h-100 head-title"},rt={class:"color-text-1 fs-32"},ct={class:"p-l-30 p-r-30 flex justify-center items-center w-full seacrh"},it={class:"content p-l-30 p-r-30 p-b-30"},ut={key:0,class:"no-data flex justify-center"},ft=["onClick"],dt={class:"flex items-center"},pt={class:"color-text-1 fs-26 p-l-24"},vt={class:"color-text-2 fs-26"},mt=Se({__name:"index",props:{region:{type:Boolean,default:!1},noBg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},popupTitle:{},searchPlaceholder:{},value:{},fullWidth:{type:Boolean},class:{}},emits:["onChange","update:value"],setup(e,{emit:o}){const t=e,{locale:s}=J(),l=L(!1),{eventHandlers:r}=Ve(),{t:i}=J(),a=xe(),{loading:p,setLoading:f}=He(),d=L(),v=Re(t,o,{valueKey:"value",extractVoidValue:!0,default:t.region?"CA":"+1",immediate:!0});let _=G({}),h=a.areaList,y=a.areaList,x=L([]);const m=L(0),k=n=>{m.value=0,n&&(y=h.filter(c=>{var S;return(((S=c.nick)==null?void 0:S.toLowerCase())||"").indexOf(n.toLowerCase())>-1||(c.code||"").indexOf(n)>-1}),I(y))},F=n=>{n.data||R(),w()},R=()=>{y=a.areaList||[],I(h),document.getElementById("content")&&document.querySelectorAll(".content").forEach(c=>{c.scrollTop=0}),w()},I=n=>{m.value===0?x.value=n.slice(m.value*20,(m.value+1)*20):x.value=x.value.concat(n.slice(m.value*20,(m.value+1)*20))},H=n=>{n.arrivedState.bottom&&m.value<Math.ceil(y.length/20)&&(m.value++,I(y))};ne(async()=>{u()}),X(s,()=>{u()});const u=async()=>{if(f(!0),h=await a.getAreaCode(),y=Object.assign([],h),a.areaCodeByIp)_=h.find(n=>{var c;return n.code===((c=a.areaCodeByIp)==null?void 0:c.code)})||{};else{const n=await a.getAreaCodeByIp();_=h.find(c=>c.code===n.code)||{}}t.value&&!Object.keys(_).length&&(_=h.find(n=>n.code===t.value||n.countryCode===t.value)||{}),f(!1),I(h),C(_)},D=L(null),w=()=>{var n;(n=D.value)==null||n.scrollTo({top:0,behavior:"smooth"})},A=n=>{C(n),l.value=!1},j=P(()=>{var n;return t.region?((n=d.value)==null?void 0:n.nick)??i("common.region.default"):v.value}),C=n=>{var c,S;t.region?v.value=n.countryCode||"":v.value=n.code||n.area||"",o("onChange",n),(S=(c=r.value)==null?void 0:c.onChange)==null||S.call(c),d.value=n},$=P(()=>t.popupTitle??i("common.region.popup.title")),N=P(()=>t.searchPlaceholder??i("common.settings.search"));return Ce(()=>{var n,c,S;return t.region?(n=d.value)==null?void 0:n.countryCode:((c=d.value)==null?void 0:c.code)||((S=d.value)==null?void 0:S.area)||""}),(n,c)=>{const S=Ae,ie=je,ue=Be,fe=We,de=Me,pe=ke;return B(),V("div",{class:Y(["flex justify-between items-center h-100 p-l-30 select",[{"bx-bg-bg-interactive":!t.noBg,"w-full":t.fullWidth},t.class]]),onClick:c[3]||(c[3]=E=>l.value=!g(l))},[Te(n.$slots,"default",{data:g(d),show:g(l)},()=>[T("div",nt,M(g(j)),1),W(S,{name:"slidedown",class:Y([{show:g(l)},"icon fs-32 m-l16"])},null,8,["class"])],!0),W(pe,{class:"AreaSelectPopup",teleport:"body",onClose:c[1]||(c[1]=E=>R()),position:"bottom",round:"",show:g(l),"onUpdate:show":c[2]||(c[2]=E=>Le(l)?l.value=E:null),closeable:!1},{default:K(()=>[T("div",st,[T("div",lt,[T("div",at,[T("span",rt,M(g($)),1),T("span",{class:"color-text-2 fs-26",onClick:c[0]||(c[0]=Q(E=>l.value=!1,["stop"]))},M(n.$t("common.popup.close")),1)]),T("div",ct,[W(ue,{class:"search",placeholder:g(N),onInput:F,"onUpdate:modelValue":k,onClear:R,clearable:"",shape:"round",style:{width:"100%"}},{"left-icon":K(()=>[W(ie,{name:"bx-icon:search",class:"lefticon"})]),_:1},8,["placeholder"])])]),T("section",it,[g(p)?(B(),V("div",ut,[W(g(Fe),{class:"icon",size:"20"}),T("span",null,M(g(i)("register.form.country.loading")),1)])):Z("",!0),Ee((B(),V("div",{id:"content",class:"list-wrapper",ref_key:"listRef",ref:D},[(B(!0),V(De,null,Ie(g(y),(E,ve)=>(B(),V("div",{class:Y(["flex items-center justify-between p-t-40",{current:E.code===g(v)||E.nick===g(v)}]),key:ve,onClick:Q(ht=>A(E),["stop"])},[T("div",dt,[W(fe,{class:"country-icon",src:E.avatar,alt:"","lazy-load":"",width:"8vw",height:"8vw"},null,8,["src"]),T("div",pt,M(E.nick),1)]),T("div",vt,M(E.code),1)],10,ft))),128))])),[[g(Ze),H]]),!g(x).length&&!g(p)?(B(),Oe(de,{key:1})):Z("",!0)])])]),_:1},8,["show"])],2)}}});const bt=Pe(mt,[["__scopeId","data-v-8a07a0fb"]]);export{bt as _,He as u};
//# sourceMappingURL=index.2548992e.js.map


}

/*
playback timings (ms):
  captures_list: 0.579
  exclusion.robots: 0.073
  exclusion.robots.policy: 0.066
  esindex: 0.005
  cdx.remote: 9.28
  LoadShardBlock: 197.872 (3)
  PetaboxLoader3.resolve: 153.581 (4)
  PetaboxLoader3.datanode: 75.892 (4)
  load_resource: 76.268
*/